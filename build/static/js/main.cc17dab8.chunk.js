(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{120:function(e,t,a){e.exports=a(151)},125:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(125),a(69)),i=a(8),u=a(227),s=a(14),m=a(37),p=a(218),d=a(57),f=a(67),h=a.n(f),b=a(214),g=a(7),E=a.n(g),v=a(12),y=a(38),j=a(199),O=a(15),x=a(211),C=a(212),w=a(209),k=a(156),S=a(210),N=a(208),L=a(107),P=a(102),R=a.n(P),W=a(103),I=a.n(W),D=a(104),F=a.n(D),M=a(77),B=a.n(M),q=a(101),V=a.n(q),_=a(105),z=a.n(_),T=a(213),A=a(230),J=a(206),G=a(97),H=a.n(G),Q=a(202),U=a(152),Z=a(204),$=a(205),X=a(207),K=a(76),Y=a.n(K),ee=a(98),te=a.n(ee),ae=a(99),ne=a.n(ae),re=a(100),ce=a.n(re),oe=a(33),le=a(92),ie=a.n(le),ue="production".includes("dev")?"http://localhost:4000":"";function se(e,t){var a=Object(oe.a)({method:t.method||"get"},t);return ie()("".concat(ue,"/").concat(e),a).then((function(e){return e.data&&e.data.errorMsg?Promise.reject(e.data.errorMsg):e.data})).catch((function(e){return alert("net work error ".concat(e))}))}var me=function(e){return se("register",{method:"post",data:e})},pe=function(e){return se("login",{method:"post",data:e})},de=function(e){return se("addGoods",Object(oe.a)({method:"post"},e))},fe=function(e){return se("goods".concat(e),{})},he=function(e){return se("goods/".concat(e.id),{})},be=function(e){return se("cart",{method:"post",data:e})},ge=function(e){return se("getCart",{method:"post",data:e})},Ee=function(e){return se("removeCart",{method:"post",data:e})},ve=function(e){return se("getSellerList",{})},ye=function(e){return se("stripe/secret",{method:"post",data:e})},je=function(e){return se("addReview",{method:"post",data:e})},Oe=Object(j.a)((function(e){return{root:{width:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}})),xe=[{text:"All",path:"/"},{text:"Shoes",path:"/?type=shoes"},{text:"Clothes",path:"/?type=clothes"}];function Ce(e){var t=Oe(),a=r.a.useState(!0),c=Object(i.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)([]),m=Object(i.a)(u,2),p=m[0],d=m[1];Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:(t=e.sent)&&(console.log(t,"seller"),d(t.msg));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return r.a.createElement(Q.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:t.root},xe.map((function(t,a){return r.a.createElement(U.a,{button:!0,key:t.text,component:s.b,to:"".concat(t.path),onClick:e.click},r.a.createElement(Z.a,null,a%2===0?r.a.createElement(Y.a,null):r.a.createElement(H.a,null)),r.a.createElement($.a,{primary:t.text}))})),r.a.createElement(J.a,null),r.a.createElement(U.a,{button:!0,onClick:function(){l(!o)}},r.a.createElement(Z.a,null,r.a.createElement(Y.a,null)),r.a.createElement($.a,{primary:"Inbox"}),o?r.a.createElement(te.a,null):r.a.createElement(ne.a,null)),r.a.createElement(X.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(Q.a,{component:"div",disablePadding:!0},p.map((function(a){return a?r.a.createElement(U.a,{key:a,component:s.b,to:"/?seller=".concat(a),button:!0,className:t.nested,onClick:e.click},r.a.createElement(Z.a,null,r.a.createElement(ce.a,null)),r.a.createElement($.a,{primary:a})):""})))))}function we(e){return r.a.createElement(A.a,{anchor:"left",open:e.open,onClose:function(){return e.changeStatus(!1)},onOpen:function(){return e.changeStatus(!0)}},r.a.createElement(Ce,{click:function(){return e.changeStatus(!1)},onKeyDown:function(){return e.changeStatus(!1)}}))}var ke=r.a.createContext({}),Se=Object(j.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(y.a)({display:"none",color:e.white},e.breakpoints.up("sm"),{display:"block"}),search:Object(y.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(y.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(y.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(y.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function Ne(){var e=Se(),t=r.a.useState(null),a=Object(i.a)(t,2),c=a[0],o=a[1],l=r.a.useState(null),u=Object(i.a)(l,2),m=u[0],p=u[1],d=r.a.useState(!1),f=Object(i.a)(d,2),b=f[0],g=f[1],y=r.a.useContext(ke);Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.isLogin){e.next=5;break}return e.next=3,ge({user:y.isLogin});case 3:(t=e.sent)&&y.addCarts(t.msg);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y.isLogin]);var j=Boolean(c),O=Boolean(m),P=function(){y.setLogin(""),y.addCarts([]),window.sessionStorage.removeItem("isLogin"),D()},W=function(){p(null)},D=function(){o(null),W()},M="primary-search-account-menu",q=r.a.createElement(L.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:M,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:D},r.a.createElement(N.a,{onClick:P},"Login Out")),_=r.a.createElement(L.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:W},r.a.createElement(N.a,null,r.a.createElement(w.a,{color:"inherit",component:s.b,to:"/cart"},r.a.createElement(S.a,{badgeContent:y.carts.length,color:"secondary"},r.a.createElement(B.a,null))),r.a.createElement("p",null,"Carts")),r.a.createElement(N.a,null,r.a.createElement(w.a,{"aria-label":"show 11 new notifications",color:"inherit",onClick:P},r.a.createElement(S.a,{color:"secondary"},r.a.createElement(V.a,null))),r.a.createElement("p",null,"Login out")));return r.a.createElement("div",{className:e.grow},r.a.createElement(we,{open:b,changeStatus:g}),r.a.createElement(x.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(w.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){g(!b)}},r.a.createElement(R.a,null)),r.a.createElement(s.b,{to:"/",className:e.title,variant:"h6",color:"inherit",noWrap:!0},"SHOP ",r.a.createElement(h.a,null)),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(I.a,null)),r.a.createElement(k.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){y.setSearchName(e.target.value)}})),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(w.a,{"aria-label":"show carts items",color:"inherit",component:s.b,to:"/cart"},r.a.createElement(S.a,{badgeContent:y.carts.length,color:"secondary"},r.a.createElement(B.a,null))),y.isLogin?r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{color:"inherit",component:s.b,to:"/sell"},"Sell Something"),r.a.createElement(w.a,{edge:"end","aria-label":"account of current user","aria-controls":M,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit"},r.a.createElement(F.a,null))):r.a.createElement(T.a,{component:s.b,to:"/login",color:"inherit"},"Login")),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(w.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit"},r.a.createElement(z.a,null))))),_,q)}var Le=function(e){return r.a.createElement(b.a,{maxWidth:"100%",style:{padding:0}},r.a.createElement(Ne,null),e.children)},Pe=a(228),Re=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& .MuiTextField-root":{margin:e.spacing(1),width:200}}}}));var We=function(e){var t=Re(),a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),f=p[0],h=p[1],b=Object(n.useContext)(ke),g=Object(m.f)();function y(){return(y=Object(v.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe({username:t,password:a});case 2:(n=e.sent)&&(window.sessionStorage.setItem("isLogin",n.msg),b.setLogin(n.msg),alert("login success"),g.push("/"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(Pe.a,{id:"userName",label:"userName",defaultValue:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(Pe.a,{id:"password",label:"password",defaultValue:f,onChange:function(e){return h(e.target.value)}})),r.a.createElement(d.a,{align:"center"},r.a.createElement(T.a,{onClick:function(){return function(e,t){return y.apply(this,arguments)}(o,f)}},"Login")),r.a.createElement(d.a,{align:"center",component:"p"},"Want be a user ? ",r.a.createElement(s.b,{to:"/register"},"Register")))},Ie=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& .MuiTextField-root":{margin:e.spacing(1),width:200}}}}));var De=function(e){var t=Ie(),a=Object(m.f)(),c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],u=o[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),h=f[0],b=f[1],g=Object(n.useState)(""),y=Object(i.a)(g,2),j=y[0],O=y[1];function x(){return(x=Object(v.a)(E.a.mark((function e(t,n,r){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n,r,"call"),e.next=3,me({username:t,password:n,email:r});case 3:(c=e.sent)&&(console.log(c,"reg"),alert(c.msg),a.replace("/login"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(Pe.a,{id:"userName",label:"userName",defaultValue:l,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(Pe.a,{id:"password",label:"password",defaultValue:h,onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(Pe.a,{id:"email",label:"email",defaultValue:j,onChange:function(e){return O(e.target.value)}})),r.a.createElement(d.a,{align:"center"},r.a.createElement(T.a,{onClick:function(){return function(e,t,a){return x.apply(this,arguments)}(l,h,j)}},"Register")),"password",r.a.createElement(d.a,{align:"center",component:"p"},"Already a user ? ",r.a.createElement(s.b,{to:"/login"},"Login")))};var Fe=function(e){var t=Object(m.g)();return r.a.createElement(Le,null,r.a.createElement(p.a,{container:!0,maxWidth:"100%",style:{padding:0,height:"100vh"},xs:12,spacing:0},r.a.createElement(p.a,{container:!0,xs:4,direction:"column",alignContent:"center",justify:"center"},r.a.createElement(d.a,{variant:"h1",align:"center"},"SHOP"),r.a.createElement(h.a,null),"/login"===t.pathname?r.a.createElement(We,null):r.a.createElement(De,null)),r.a.createElement(p.a,{item:!0,xs:8},r.a.createElement("div",{style:{backgroundImage:"url(https://images.unsplash.com/photo-1587040164251-a349c7b1b7ff?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80)",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}))))},Me=a(219),Be=a(220),qe=a(223),Ve=a(222),_e=a(221),ze=Object(j.a)({root:{minWidth:345,maxWidth:345,margin:15}});var Te=function(e){var t=ze(),a=e.data,c=Object(n.useContext)(ke);function o(){return(o=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(oe.a)({},t,{user:c.isLogin}),e.next=3,be(a);case 3:e.sent&&(c.addCarts(a),alert("add cart success"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Me.a,{className:t.root},r.a.createElement(Be.a,{component:s.b,to:"/good/".concat(a._id)},r.a.createElement(_e.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:"http://localhost:4000/".concat(a.image),title:a.description}),r.a.createElement(Ve.a,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Name: ",a.product),r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Price: ",a.price),r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Quantity: ",a.quantity),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},"Description: ",a.description))),r.a.createElement(qe.a,null,r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("a",{href:"mailto:".concat(a.email)},"seller: ",a.seller)),r.a.createElement(T.a,{variant:"contained",disableElevation:!0,size:"large",color:"white",style:{flexGrow:1,borderRadius:30,background:"rgb(1, 0, 1)",color:"white"},onClick:function(){return function(e){return o.apply(this,arguments)}(a)}},"Add to Cart")))};var Ae=function(e){var t=Object(m.g)(),a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],u=c[1],s=Object(n.useState)(!0),d=Object(i.a)(s,2),f=d[0],h=d[1],b=Object(n.useContext)(ke);Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe("".concat(t.search));case 2:a=e.sent,console.log(a,"aaa"),a&&u(a.msg);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(b.searchName?"?product=".concat(b.searchName):"");case 2:t=e.sent,console.log(t,"mmmmm"),t&&u(t.msg);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b.searchName]);var g=Object(n.useCallback)((function(){var e=Object(l.a)(o);f?e.sort((function(e,t){return Number(e.price)-Number(t.price)})):e.sort((function(e,t){return Number(t.price)-Number(e.price)})),u(e),h(!f)}),[o,f]);return r.a.createElement(Le,null,r.a.createElement("div",{className:"sort"},r.a.createElement(T.a,{onClick:g},"Sort by Price")),r.a.createElement(p.a,{container:!0},o.filter((function(e){return e.user!==b.isLogin})).map((function(e,t){return r.a.createElement(Te,{data:e,key:e._id})}))))},Je=a(78),Ge=a(225),He=a(224),Qe=a(232),Ue=Object(j.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7)}}}));var Ze=function(e){var t=e.data,a=Ue(),c=Object(n.useContext)(ke);function o(){return(o=Object(v.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee({_id:t._id,user:c.isLogin});case 2:if(!e.sent){e.next=9;break}return alert("removed"),e.next=7,ge({user:c.isLogin});case 7:(a=e.sent)&&c.addCarts(a.msg);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(He.a,null,r.a.createElement(Qe.a,{src:"http://localhost:4000/".concat(t.image),className:a.large})),r.a.createElement(p.a,{item:!0,container:!0,direction:"column",justify:"center",style:{marginLeft:5}},r.a.createElement(d.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary"},"Name: ",t.product),r.a.createElement(d.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary",noWrap:!0},"Description: ",t.description),r.a.createElement(d.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary",noWrap:!0},"Price: ",t.price),r.a.createElement(d.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary",noWrap:!0},"Seller: ",t.seller),r.a.createElement(d.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary",noWrap:!0},"Quantity: ",t.number)),r.a.createElement(p.a,{item:!0,container:!0,direction:"column",justify:"center"},r.a.createElement(T.a,{variant:"contained",color:"secondary",onClick:function(){return o.apply(this,arguments)}},"Remove Item")))},$e=a(45),Xe=(a(150),{iconStyle:"solid",style:{base:{iconColor:"#c4f0ff",color:"#fff",fontWeight:500,fontFamily:"Roboto, Open Sans, Segoe UI, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#fce883"},"::placeholder":{color:"#87bbfd"}},invalid:{iconColor:"#ffc7ee",color:"#ffc7ee"}}}),Ke=function(e){var t=e.onChange;return r.a.createElement("div",{className:"FormRow"},r.a.createElement($e.CardElement,{options:Xe,onChange:t}))},Ye=function(e){var t=e.label,a=e.id,n=e.type,c=e.placeholder,o=e.required,l=e.autoComplete,i=e.value,u=e.onChange;return r.a.createElement("div",{className:"FormRow"},r.a.createElement("label",{htmlFor:a,className:"FormRowLabel"},t),r.a.createElement("input",{className:"FormRowInput",id:a,type:n,placeholder:c,required:o,autoComplete:l,value:i,onChange:u}))},et=function(e){var t=e.processing,a=e.error,n=e.children,c=e.disabled;return r.a.createElement("button",{className:"SubmitButton ".concat(a?"SubmitButton--error":""),type:"submit",disabled:t||c},t?"Processing...":n)},tt=function(e){var t=e.children;return r.a.createElement("div",{className:"ErrorMessage",role:"alert"},r.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 17 17"},r.a.createElement("path",{fill:"#FFF",d:"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z"}),r.a.createElement("path",{fill:"#6772e5",d:"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z"})),t)},at=function(e){var t=e.onClick;return r.a.createElement("button",{type:"button",className:"ResetButton",onClick:t},"Confirm")},nt=function(e){var t=Object($e.useStripe)(),a=Object($e.useElements)(),c=Object(n.useContext)(ke),o=Object(m.f)(),l=Object(n.useState)(null),u=Object(i.a)(l,2),s=u[0],p=u[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),h=f[0],b=f[1],g=Object(n.useState)(!1),y=Object(i.a)(g,2),j=y[0],O=y[1],x=Object(n.useState)(null),C=Object(i.a)(x,2),w=C[0],k=C[1],S=Object(n.useState)({email:"",phone:"",name:""}),N=Object(i.a)(S,2),L=N[0],P=N[1],R=Object(n.useState)(""),W=Object(i.a)(R,2),I=W[0],D=W[1];function F(){return(F=Object(v.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ye({amount:e.price});case 2:(a=t.sent)&&D(a.client_secret);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){F.apply(this,arguments)}()}),[]);var M=function(){var e=Object(v.a)(E.a.mark((function e(n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t&&a){e.next=3;break}return e.abrupt("return");case 3:if(!s){e.next=6;break}return a.getElement("card").focus(),e.abrupt("return");case 6:return h&&O(!0),e.next=9,t.confirmCardPayment(I,{payment_method:{card:a.getElement($e.CardElement),billing_details:{name:"Jenny Rosen"}}});case 9:if(r=e.sent,O(!1),!r.error){e.next=15;break}p(r.error),e.next=19;break;case 15:return e.next=17,se("clearCart",{method:"post",data:{user:c.isLogin,list:c.carts}});case 17:k(r.paymentMethod),window.location.reload();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return w?r.a.createElement("div",{className:"Result"},r.a.createElement("div",{className:"ResultTitle",role:"alert"},"Payment successful"),r.a.createElement("div",{className:"ResultMessage"},"No money was charged ",w.id),r.a.createElement("br",null),r.a.createElement(at,{onClick:function(){p(null),O(!1),k(null),P({email:"",phone:"",name:""}),o.push("/")}},"Confirm")):r.a.createElement("form",{className:"Form",onSubmit:M},r.a.createElement("span",{className:"close",onClick:e.close},"x"),r.a.createElement("fieldset",{className:"FormGroup"},r.a.createElement(Ye,{label:"Name",id:"name",type:"text",placeholder:"Jane Doe",required:!0,autoComplete:"name",value:L.name,onChange:function(e){P(Object(oe.a)({},L,{name:e.target.value}))}}),r.a.createElement(Ye,{label:"Email",id:"email",type:"email",placeholder:"janedoe@gmail.com",required:!0,autoComplete:"email",value:L.email,onChange:function(e){P(Object(oe.a)({},L,{email:e.target.value}))}}),r.a.createElement(Ye,{label:"Phone",id:"phone",type:"tel",placeholder:"(941) 555-0123",required:!0,autoComplete:"tel",value:L.phone,onChange:function(e){P(Object(oe.a)({},L,{phone:e.target.value}))}})),r.a.createElement("fieldset",{className:"FormGroup"},r.a.createElement(Ke,{onChange:function(e){p(e.error),b(e.complete)}})),s&&r.a.createElement(tt,null,s.message),r.a.createElement(et,{processing:j,error:s,disabled:!t},"Pay $",e.price))},rt=a(106),ct=Object(rt.a)("pk_test_B2D4WapEkXcUtoNZqkMNjuXI00lrERywhc");var ot=function(e){var t=Object(n.useContext)(ke),a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],l=c[1],u=function(){var e=Object(v.a)(E.a.mark((function e(){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.carts&&t.carts.reduce((function(e,t){return e+t.price*t.number}),0),e.next=3,se("checkCart",{method:"post",data:{list:t.carts}});case 3:n=e.sent,a&&n.msg?l(!0):alert("".concat(n.list.map((function(e){return e.product})).join(",")," the quantity less than stock"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Le,null,r.a.createElement(Je.a,{style:{margin:"0 auto",maxWidth:500,padding:"15px 20px"}},r.a.createElement(p.a,null,r.a.createElement(d.a,{component:"h4"},"Shopping Cart"),r.a.createElement(J.a,null),r.a.createElement(Q.a,null,t.carts&&t.carts.map((function(e,t){return r.a.createElement(U.a,{index:e,divider:!0},r.a.createElement(Ze,{data:e}))})),r.a.createElement(U.a,{style:{justifyContent:"flex-end"}},"Order Total: $",t.carts&&t.carts.reduce((function(e,t){return e+t.price*t.number}),0)),r.a.createElement(U.a,{style:{justifyContent:"flex-end"}},r.a.createElement(T.a,{onClick:function(){return u()},color:"primary",variant:"contained"},"Pay With Card"))))),r.a.createElement(Ge.a,{open:o},r.a.createElement($e.Elements,{stripe:ct},r.a.createElement(nt,{close:function(){return l(!1)},carts:t.carts,price:t.carts&&t.carts.reduce((function(e,t){return e+t.price*t.number}),0)}))))},lt=a(215),it=a(231),ut=a(226),st=a(229);var mt=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),s=u[0],f=u[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),g=b[0],y=b[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),x=O[0],C=O[1],w=Object(n.useState)(""),k=Object(i.a)(w,2),S=k[0],N=k[1],L=Object(n.useState)(""),P=Object(i.a)(L,2),R=P[0],W=P[1],I=Object(n.useState)(""),D=Object(i.a)(I,2),F=D[0],M=D[1],B=Object(n.useContext)(ke),q=Object(m.f)();function V(){return(V=Object(v.a)(E.a.mark((function e(t,a,n,r,c){var o,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("file",c),o.append("product",t),o.append("description",a),o.append("seller",n),o.append("type",R),o.append("price",r),o.append("quantity",S),o.append("user",B.isLogin),e.next=11,de({headers:{"Content-Type":"multipart/form-data"},data:o});case 11:l=e.sent,console.log(l),l&&(alert("add success"),q.replace("/"));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Le,null,r.a.createElement(p.a,{container:!0,style:{minHeight:"calc(100vh - 64px)"}},r.a.createElement(p.a,{item:!0,xs:8,style:{backgroundImage:"url(https://images.unsplash.com/flagged/photo-1587096472434-8b65b343980d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3375&q=80)",backgroundSize:"cover"}}),r.a.createElement(p.a,{container:!0,item:!0,xs:4,direction:"column",justify:"center",style:{padding:"0 20px"}},r.a.createElement(Pe.a,{id:"standard-full-width",label:"Production",style:{margin:8},placeholder:"Enter Production",helperText:"Production!",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(Pe.a,{id:"standard-full-width",label:"Description",style:{margin:8},placeholder:"Enter Description",helperText:"Description!",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:s,onChange:function(e){return f(e.target.value)}}),r.a.createElement(Pe.a,{id:"standard-full-width",label:"Seller",style:{margin:8},placeholder:"Enter Seller",helperText:"Seller!",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},defaultValue:g,onChange:function(e){return y(e.target.value)}}),r.a.createElement(lt.a,{type:"number",fullWidth:!0,placeholder:"enter price",defaultValue:x,onChange:function(e){return C(e.target.value)}}),r.a.createElement(lt.a,{type:"number",fullWidth:!0,placeholder:"enter quantity",defaultValue:S,onChange:function(e){return N(e.target.value)}}),r.a.createElement(it.a,{"aria-label":"gender",name:"gender1",value:R,onChange:function(e){return W(e.target.value)}},r.a.createElement(ut.a,{value:"shoes",control:r.a.createElement(st.a,null),label:"shoes"}),r.a.createElement(ut.a,{value:"cloth",control:r.a.createElement(st.a,null),label:"cloth"})),r.a.createElement(d.a,null,"Upload an image of your production~"),r.a.createElement(lt.a,{type:"file",fullWidth:!0,onChange:function(e){return M(e.target.files[0])}}),r.a.createElement(T.a,{variant:"contained",disableElevation:!0,size:"large",style:{marginTop:10,borderRadius:30,background:"rgb(1, 0, 1)",color:"white"},onClick:function(){return function(e,t,a,n,r){return V.apply(this,arguments)}(c,s,g,x,F)}},"Add to Cart"))))},pt=a(216),dt=a(217);var ft=function(e){var t=Object(m.h)(),a=Object(n.useState)({}),c=Object(i.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)(""),s=Object(i.a)(u,2),f=s[0],h=s[1];Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he({id:t.id});case 2:(a=e.sent)&&l(a.msg);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.id]);var b=Object(n.useContext)(ke);function g(){return(g=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t.target.value);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(v.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je({_id:t.id,review:f});case 2:n=e.sent,console.log(n),n&&l(n.msg);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.user=b.isLogin,e.next=3,be(t);case 3:e.sent&&(b.addCarts(t),alert("add cart success"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Le,null,r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,xs:8,style:{height:"100vh",backgroundImage:"url(http://localhost:4000/".concat(o.image,")"),backgroundSize:"cover"}}),r.a.createElement(p.a,{container:!0,justify:"center",alignItems:"center",direction:"column",item:!0,xs:4,style:{height:"100vh"}},r.a.createElement(d.a,{component:"h4",color:"textPrimary"},"Name: ",o.product),r.a.createElement(d.a,{component:"h5",color:"textPrimary",noWrap:!0},"Description: ",o.description),r.a.createElement(d.a,{component:"span",color:"textPrimary",noWrap:!0},"Price: ",o.price),r.a.createElement(d.a,{component:"span",color:"textPrimary",noWrap:!0},"Seller: ",o.seller),r.a.createElement(d.a,{component:"span",color:"textPrimary",noWrap:!0},"Review: ",o.rank||"*"),r.a.createElement(T.a,{variant:"contained",disableElevation:!0,size:"large",color:"white",style:{borderRadius:30,background:"rgb(1, 0, 1)",color:"white"},onClick:function(){return function(e){return j.apply(this,arguments)}(o)}},"Add to Cart"),r.a.createElement(pt.a,{component:"fieldset"},r.a.createElement(dt.a,{component:"legend"},"Rank"),r.a.createElement(it.a,{style:{flexDirection:"row"},"aria-label":"rank",name:"rank",value:f,onChange:function(e){return g.apply(this,arguments)}},r.a.createElement(ut.a,{value:"1",control:r.a.createElement(st.a,null),label:"1"}),r.a.createElement(ut.a,{value:"2",control:r.a.createElement(st.a,null),label:"2"}),r.a.createElement(ut.a,{value:"3",control:r.a.createElement(st.a,null),label:"3"}),r.a.createElement(ut.a,{value:"4",control:r.a.createElement(st.a,null),label:"4"}),r.a.createElement(ut.a,{value:"5",control:r.a.createElement(st.a,null),label:"5"})),r.a.createElement(T.a,{onClick:function(e){return y.apply(this,arguments)}},"Submit")))))},ht=[{path:"/",component:r.a.createElement(Ae,null)},{path:"/cart",component:r.a.createElement(ot,null)},{path:"/sell",component:r.a.createElement(mt,null)},{path:"/login",component:r.a.createElement(Fe,null)},{path:"/register",component:r.a.createElement(Fe,null)},{path:"/good/:id",component:r.a.createElement(ft,null)}];var bt=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),p=Object(i.a)(o,2),d=p[0],f=p[1],h=Object(n.useState)(window.sessionStorage.getItem("isLogin")),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(n.useCallback)((function(e){if(e)if(Array.isArray(e))c(e);else{var t=a.filter((function(t){return t._id===e._id}));console.log(t,"ccc"),t.length?t[0].number++:(e.number=1,c([].concat(Object(l.a)(a),[e])))}}),[a]);return r.a.createElement(ke.Provider,{value:{carts:a,isLogin:g,addCarts:v,setLogin:function(e){window.sessionStorage.setItem("isLogin",e),E(e)},searchName:d,setSearchName:f}},r.a.createElement(s.a,null,r.a.createElement(u.a,null),r.a.createElement(m.c,null,ht.map((function(e){return r.a.createElement(m.a,{exact:!0,path:e.path,key:e.path},e.component)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[120,1,2]]]);
//# sourceMappingURL=main.cc17dab8.chunk.js.map